<div class="row">
    <div class="col-md-6 offset-md-3">
        <h3>Zmiana danych</h3>
        <form id="form">
            <div class="card mb-3">
                <div class="card-header">
                    Użytkownik
                </div>

                <div class="card-body">

                    <div class="form-group">
                        <label for="email">
                            Email
                            <span class="text-danger">*</span>
                        </label>
                        <input name="email" id="email" type="email" class="form-control" value="{{user.email}}"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="password">
                            Hasło
                            <span class="text-danger">*</span>
                        </label>
                        <input name="password" id="password" type="password" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">
                            Powtórz hasło
                            <span class="text-danger">*</span>
                        </label>
                        <input name="confirmPassword" id="confirmPassword" type="password" class="form-control"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="firstName">
                            Imię
                            <span class="text-danger">*</span>
                        </label>
                        <input name="firstName" id="firstName" type="text" class="form-control"
                            value="{{user.firstName}}" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">
                            Nazwisko
                            <span class="text-danger">*</span>
                        </label>
                        <input name="lastName" id="lastName" type="text" class="form-control" value="{{user.lastName}}"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="phone">
                            Telefon
                            <span class="text-danger">*</span>
                        </label>
                        <input name="phone" id="phone" type="text" class="form-control" value="{{user.phone}}" required>
                    </div>
                    <div class="form-group">
                        <label for="address">
                            Adres
                            <span class="text-danger">*</span>
                        </label>
                        <input name="address" id="address" type="text" class="form-control" value="{{user.address}}"
                            required>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="event.preventDefault(); change();">
                Zapisz
            </button>
        </form>
    </div>
</div>

<script>
    function change() {
        var request = new XMLHttpRequest();
        request.open("POST", "/changeData");
        request.setRequestHeader("Content-type", "application/json");
        request.setRequestHeader("Authorization", "{{ token }}");

        var elements = document.getElementById("form").elements;
        var obj = {};
        for (var i = 0; i < elements.length; i++) {
            var item = elements.item(i);
            obj[item.name] = item.value;
        }
        request.send(JSON.stringify(obj));
        window.location.href = "http://localhost:8005";
    }
</script>